<?xml version="1.0" encoding="UTF-8"?>
<beans xmlns="http://www.springframework.org/schema/beans"
	xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:util="http://www.springframework.org/schema/util"
	xsi:schemaLocation="http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans-3.0.xsd
		http://www.springframework.org/schema/util http://www.springframework.org/schema/util/spring-util-3.0.xsd">


	<!-- rootFolder -->
	<bean id="rootFolderResource" class="org.springframework.core.io.ClassPathResource">
		<constructor-arg value="xsltestengine" />
	</bean>

	<util:list id="fileExtensions">
		<array>
			<value>xml</value>
		</array>
	</util:list>


	<!-- Xsl URL -->
	<bean id="xslScenarioResource" class="org.springframework.core.io.ClassPathResource">
		<constructor-arg value="xsltestengine/toHtmlWithIds.xsl" />
	</bean>
	
	<!-- JavaXslOutputValidation -->
	<util:list id="outputValidators" list-class="java.util.ArrayList"
		value-type="com.servicelibre.jxsl.xsltestengine.OuputValidator">
		<bean class="com.servicelibre.jxsl.xsltestengine.AlwaysTrueValidator"/>
		<bean class="com.servicelibre.jxsl.xsltestengine.AlwaysFalseValidator"/>
	</util:list>
	

	<!-- Plumbing -->

	
	<bean id="engine"
		class="com.servicelibre.jxsl.xsltestengine.XslTestEngine">
		<constructor-arg ref="documentSource"/>
		<constructor-arg ref="outputValidation"/>
	</bean>



	<bean id="outputValidation"
		class="com.servicelibre.jxsl.xsltestengine.JavaXslOutputValidation">
		<constructor-arg ref="xslScenario" />
		<constructor-arg ref="outputValidators"/>
	</bean>

	<bean id="xslScenario" class="com.servicelibre.jxsl.scenario.XslScenario">
		<constructor-arg ref="xslScenarioFile" />
	</bean>


	<bean id="xslScenarioFile"
		class="org.springframework.beans.factory.config.MethodInvokingFactoryBean">
		<property name="targetObject" ref="xslScenarioResource" />
		<property name="targetMethod" value="getFile" />
	</bean>

	<!-- DocumentSource -->
	<bean id="documentSource"
		class="com.servicelibre.jxsl.xsltestengine.FolderDocumentSource">
		<constructor-arg ref="rootFolder" />
		<constructor-arg ref="fileExtensions" />
		<constructor-arg value="false" />
	</bean>

	<bean id="rootFolder"
		class="org.springframework.beans.factory.config.MethodInvokingFactoryBean">
		<property name="targetObject" ref="rootFolderResource" />
		<property name="targetMethod" value="getFile" />
	</bean>


</beans>
